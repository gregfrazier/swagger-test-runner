# Swagger Test Runner (Also known as `LimpStride`)
Generates and executes tests off of Swagger definitions using Chai

**Note: Unfinished -- Needs a lot of improvements.**

This application can generate tests for rest apis that are documented via swagger/openapi.

Once the tests are generated, you can modify them to your liking and execute them. You get a pretty bare-bone results file as output.

![Sample Output](https://github.com/gregfrazier/swagger-test-runner/raw/master/output-sample.png "Sample Output")

The generator script requires you to modify it to specify the paths you want to generate against. I tested this recently with the "PetStore API" that's auto-generated by as a demo Swagger application for Node. So change those around line 267 (or change it to not be hardcoded.)

```
let autoTests = parseSwaggerPaths(respBody, ["pet", "store", "user"]);
```

The original API that this was built to test was pretty simple, so a lot of features are not/incorrectly implemented.

### Usage

```
node test-generator.js http://localhost:8800/swagger-api-path/ generated_tests_output.js
```

Open the output script and modify the tests. You can also write custom validation in the custom validation function, using Chai:

```javascript
    customValidate: (responseData) => {
        let expect = chai.expect;
        expect(responseData).to.not.be.null;
        return;
    }
```

Then run the tests:

```
node test-runner.js generated_tests_output.js
```

It will produce an HTML output of the test results.

### Notice
I wrote this a few years back to test a very simple rest api that didn't do much beyond standard CRUD ops for one type of entity, so it didn't require anything too elaborate. 

I wanted to use Dredd (https://dredd.org/en/latest/) but it didn't support file uploads (at that time), which I needed. So I hacked this together pretty quickly and as such it is not formally tested.

Addendum: When I wrote it, util.inspect produced different output than it does now (classnames in the output.) I recently switched to serialize-to-js and js-beautify to address these problems. As with the spirit of most of my hacks, no testing beyond a simple smoke test was done after these changes were made.